## 复合模式

### 定义

- **复合模式**结合两个或以上的模式，组成一个解决方案，解决一再发生的一般性问题

### 设计原则

- 封装变化
- 针对接口编程，而不是针对实现编程
- 多用组合，少用继承
- 为交互对象之间的松耦合设计而努力
- 类应该对扩展开放，对修改关闭
- 依赖抽象，不要依赖具体类
- 最少知识原则：只和你的密友谈话
- 单一职责原则：类应该只有一个改变的理由

### 要点

- MVC是复合模式，结合了观察者模式、策略模式和组合模式
- 模型使用观察者模式，以便观察者更新，同时保持两者之间解耦
- 控制器是视图的策略，视图可以使用不同的控制器实现，得到不同的行为
- 视图使用组合模式实现用户界面，用户界面通常组合了嵌套的组件，像面板、框架和按钮
- 这些模式携手使用，把MVC模型的三层解耦，这样可以保持设计干净又有弹性
- 适配器模式用来将新的模型适配成已有的视图和控制器
- Model 2是MVC在Web上的应用
- 在Model 2中，控制器实现成Servlet，而JSP/HTML实现视图
